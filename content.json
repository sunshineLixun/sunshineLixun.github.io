{"meta":{"title":"Hello Li","subtitle":"lxçš„ä¸ªäººåšå®¢","description":"åšä¸€ä¸ªæœ‰æ–‡è‰ºæ°”æ¯çš„ç¨‹åºçŒ¿","author":"Hello Li","url":"http://yoursite.com"},"pages":[{"title":"åˆ†ç±»","date":"2016-09-21T13:36:36.000Z","updated":"2016-09-21T13:44:43.000Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"All tags","date":"2016-09-21T13:46:11.000Z","updated":"2016-09-21T13:46:43.000Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2016-09-21T13:47:57.000Z","updated":"2018-05-02T08:10:03.778Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"æŠ€æœ¯æ ˆ ç§»åŠ¨ç«¯: Objective-C + Swift + React-Native å‰ç«¯: React + Redux + react-router + Dva.js + Vue è”ç³»æ–¹å¼ QQ: 1261142605 é‚®ç®±: 1261142605@qq.com Github: @Hello Li"}],"posts":[{"title":"ç®—æ³•å°é›†(æŒç»­æ›´æ–°)","slug":"ç®—æ³•å°é›†-æŒç»­æ›´æ–°","date":"2018-03-20T02:24:13.000Z","updated":"2018-05-10T03:31:45.142Z","comments":true,"path":"2018/03/20/ç®—æ³•å°é›†-æŒç»­æ›´æ–°/","link":"","permalink":"http://yoursite.com/2018/03/20/ç®—æ³•å°é›†-æŒç»­æ›´æ–°/","excerpt":"","text":"æ’åºæ¡¶æ’åºOC 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647NSArray *bucketSort(NSArray *list)&#123; NSMutableArray *a = @[].mutableCopy; NSMutableArray *c = [NSMutableArray array]; //åˆå§‹åŒ–æ•°ç»„aä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¸º0 for (NSInteger i = 0; i &lt;= 10; i++) &#123; a[i] = @0; &#125; //éå†bä¸­æ‰€æœ‰å…ƒç´  å½“å‡ºç°æ•°ç»„aä¸­å‡ºç°bä¸­å…ƒç´  æ•°ç»„açš„è¿™ä¸ªå…ƒç´ å°±+1 for (NSNumber *num in list) &#123; NSInteger index = [num integerValue]; //index = 5,2,3,1,8 if (a[index]) &#123; a[index] = @([a[index] integerValue] + 1); &#125; else &#123; a[index] = @0; &#125; &#125; //éå†æ•°ç»„a //ä»å¤§åˆ°å°// for (NSInteger i = 10; i &lt; a.count; i --) &#123;// //æ‰¾åˆ°æ•°ç»„aä¸­è¢«å¢åŠ çš„å…ƒç´ // if ([a[i] integerValue] &gt; 0) &#123;// [c addObject:@(i)];// &#125;// &#125; //ä»å°åˆ°å¤§ for (NSInteger i = 0; i &lt;= 10; i++) &#123; if ([a[i] integerValue] &gt; 0) &#123; [c addObject:@(i)]; &#125; &#125; if (c.count &gt; 0) &#123; return c; &#125; else &#123; return nil; &#125;&#125; JS 12345678910111213141516171819202122232425function bucketSort(list) &#123; if (!Array.isArray(list)) return; let arrayA = [] let arrayC = [] for (let index = 0; index &lt; 10; index++) &#123; arrayA[index] = 0 &#125; list.forEach(element =&gt; &#123; if (element == undefined || element == null) return if (arrayA[element] != undefined || arrayA[element] != null) &#123; arrayA[element] += 1 &#125; else &#123; arrayA[element] = 0 &#125; &#125;) return arrayA.map((item, index) =&gt; &#123; if (item &gt; 0) return index &#125;) &#125; å¿«é€Ÿæ’åº1234567891011121314151617181920212223242526272829303132333435363738394041NSArray *quicksort(NSMutableArray *array, NSInteger left, NSInteger right)&#123; if (left &gt; right) &#123; return nil; &#125; //temp åŸºå‡†æ•° NSInteger temp = [array[left] integerValue]; NSInteger t = 0; while (left != right) &#123; //ä»å³å‘å·¦æ‰¾ while ([array[right] integerValue] &gt; temp &amp;&amp; left &lt; right) &#123; right --; &#125; //ä»å·¦å‘å³æ‰¾ while ([array[left] integerValue] &lt; temp &amp;&amp; left &lt; right) &#123; left ++; &#125; //æœªç›¸é‡ if (left &lt; right) &#123; //äº¤æ¢ä½ç½® t = [array[left] integerValue]; array[left] = array[right]; array[right] = @(t); &#125; &#125; //left == right ç¡®å®šåŸºå‡†æ•°ä½ç½® array[left] = @(temp); //é€’å½’ //å¤„ç†åŸºå‡†æ•°å·¦è¾¹æ•°æ® quicksort(array, left, left - 1); //å¤„ç†åŸºå‡†æ•°å³è¾¹æ•°æ® quicksort(array, left + 1, right); return array;&#125; å†’æ³¡æ’åºOC 12345678910111213NSArray *bubblesort(NSMutableArray *list)&#123; NSNumber *t; for (NSInteger i = 0; i &lt; list.count - 1; i++) &#123; //nä¸ªæ•°æ’åº,åªç”¨è¿›è¡Œn-1è¶Ÿ for (NSInteger j = 0; j &lt; list.count - 1; j++) &#123; //ä»ç¬¬1ä½å¼€å§‹æ¯”è¾ƒç›´åˆ°æœ€åä¸€ä½å°šæœªå½’ä¸ºçš„æ•° å› ä¸ºåªè¿›è¡Œn-1è¶Ÿæ’åº,æ‰€ä»¥æœ€åä¸€ä½åˆ™æ˜¯n-1ã€‚ if (list[j] &gt; list[j + 1]) &#123; t = list[j]; list[j] = list[j+ 1]; list[j + 1] = t; &#125; &#125; &#125; return list;&#125; JS 123456789101112131415function bubbleSort(array) &#123; if (!Array.isArray(array)) return let T = 0; for (let index = 0; index &lt; array.length - 1; index++) &#123; for (let j = 0; j &lt; array.length -1; j++) &#123; if (array[j] &gt; array[j + 1]) &#123; T = array[j] array[j] = array[j + 1] array[j + 1] = T &#125; &#125; &#125; return array&#125; æŸ¥æ‰¾äºŒåˆ†æŸ¥æ‰¾JS 1234567891011121314151617function binary_search(list, item) &#123; let low = 0 let high = list.length - 1 while (low &lt;= high) &#123; const mid = low + high const guess = list[mid] if (guess == item) &#123; return mid &#125; if (guess &gt; item) &#123; high = mid - 1 &#125; else &#123; low = mid + 1 &#125; &#125; return null&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://yoursite.com/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://yoursite.com/tags/ç®—æ³•/"}]},{"title":"AutoLayout - çˆ¶è§†å›¾æ ¹æ®å­è§†å›¾å¸ƒå±€è‡ªé€‚åº”å¤§å°","slug":"AutoLayout-çˆ¶è§†å›¾æ ¹æ®å­è§†å›¾è‡ªé€‚åº”","date":"2017-09-01T07:54:00.000Z","updated":"2018-03-19T09:15:26.758Z","comments":true,"path":"2017/09/01/AutoLayout-çˆ¶è§†å›¾æ ¹æ®å­è§†å›¾è‡ªé€‚åº”/","link":"","permalink":"http://yoursite.com/2017/09/01/AutoLayout-çˆ¶è§†å›¾æ ¹æ®å­è§†å›¾è‡ªé€‚åº”/","excerpt":"","text":"å‰è¨€æœ¬æ–‡è®°å½•AutoLayoutæ—¥å¸¸å¸ƒå±€UIæ—¶çš„æŠ€å·§ã€‚æ¯å½“æ‹¿åˆ°æ–°çš„ç•Œé¢è®¾è®¡æ—¶,æ¯” å¦‚è¿™æ ·çš„: å½“æŸä¸ªå­—æ®µçš„é•¿åº¦ä¸ç¡®å®šæ—¶,(å›¾1ä¸­çš„â€œä½œä¸šåœ°å€â€,å›¾2ä¸­â€é¢„çº¦åœ°å€â€å’Œâ€œå–æ¶ˆåŸå› â€)ã€‚Labelçš„è¡Œæ•°å°±è¦è®¾ç½®ä¸º0æˆ–è€… &gt;=1ã€‚æ€»è¯•å›¾çš„é«˜åº¦å°±ä¸ç¡®å®šã€‚äºæ˜¯ä¹å°±è¦å¼€å§‹å°±ç®—containerViewçš„é«˜åº¦äº†ã€‚ 1234567891011121314151617- (CGFloat)cellHeight&#123; CGFloat publicHeight = kViewTopPadding + kImageSize().height + kViewTypeMargin + _nameStrSize.height + kViewTypePadding + _nameTextSize.height + kViewTypeMargin / 2 + kCellBottomPadding; switch (_layoutViewType) &#123; case ViewLayoutBreviaryType: return publicHeight; break; case ViewLayoutDetailType: //åˆ¤æ–­å½“å‰modelå­˜å‚¨çš„ä¿¡æ¯æ˜¯å¾…æ‰§è¡Œè¿˜æ˜¯å·²å–æ¶ˆçŠ¶æ€ if (_orderModel.reserveType == YWBOrderReservationToBeConfirm) &#123; return publicHeight + kViewTypeMargin / 2 + _addressStrSize.height + kViewTypePadding + _addressTextSize.height + kViewTypeMargin + _typeStrSize.height + _typeTextSize.height + kViewTypeMargin + kButtonHeight + kViewBottomPadding + kCellBottomPadding; &#125;else if(_orderModel.reserveType == YWBOrderReservationCancledForSaler || _orderModel.reserveType == YWBOrderReservationCancledForClient)&#123; return publicHeight + kViewTypeMargin / 2 + _addressStrSize.height + kViewTypePadding + _addressTextSize.height + kViewTypeMargin + _cancleStrSize.height + kViewTypePadding + _cancleTextSize.height + kViewBottomPadding + kCellBottomPadding; &#125; break; &#125; return 0.0;&#125; 12345678- (CGFloat)heightWithWidth:(CGFloat)width font:(UIFont *)font&#123; CGRect attrsRect = [self boundingRectWithSize:CGSizeMake(width, CGFLOAT_MAX) options:NSStringDrawingUsesLineFragmentOrigin | NSStringDrawingUsesFontLeading attributes:@&#123;NSFontAttributeName : font&#125; context:nil]; return attrsRect.size.height;&#125; å¦‚æœä¸ç»†å¿ƒæ¼æ‰æŸä¸€å¤„é«˜åº¦,æŸ¥æ‰¾èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚æ¯æ¬¡ç®—é«˜åº¦æ˜¯æˆ‘ä¸çˆ±å¹²çš„ä¸€ä»¶äº‹æƒ…ã€‚æ²¡æœ‰æŠ€æœ¯å«é‡ğŸ˜‚ã€‚å®Œå…¨å°±æ˜¯ç»†å¿ƒæ´»ã€‚å¤šäºAutoLayoutèƒ½è®©æˆ‘ä»¬ä»è¿™ä¸€æ¯«æ— å…´è¶£çš„å·¥ä½œä¸­è§£æ”¾å‡ºæ¥ã€‚ çˆ¶è§†å›¾è‡ªé€‚åº”æ–°å»ºXcodeå·¥ç¨‹ã€‚åœ¨Main.storyboardçš„ViewControllerä¸­éšæ„æ‹–å…¥viewæ§ä»¶ï¼Œé¢œè‰²æš‚å®šä¸ºblueã€‚æ”¾ç½®3ä¸ªLabelæ§ä»¶ã€‚ å…ˆä¸è®¾ç½®blueviewçš„çº¦æŸã€‚ é€æ­¥è®¾ç½®Labelçš„çº¦æŸã€‚ é»‘è‰²Labelçº¦æŸå¦‚ä¸‹: åœ¨è¿™é‡Œæˆ‘è®¾ç½®äº†é»‘è‰²Labelçš„sizeã€‚è¿™ä¸ªå¹¶æ— å…³ç³»ï¼Œå¯è®¾å¯ä¸è®¾ã€‚ä½¿ç”¨Labelçš„å›ºæœ‰å¤§å°ä¹Ÿè¡Œã€‚ é»„è‰²Labelçº¦æŸå¦‚ä¸‹: çº¢è‰²Labelçº¦æŸå¦‚ä¸‹: Labelçš„è¡Œæ•°éƒ½ä¸º0ã€‚ é‡ç‚¹Labelä¸€å®šè¦è®¾ç½®è·ç¦»çˆ¶è§†å›¾çš„é—´è·ã€‚è¿™æ ·AutoLayoutæ‰èƒ½è®¡ç®—å‡ºçˆ¶è§†å›¾çš„å¤§å°ã€‚ æœ€é‡è¦çš„ä¸€æ­¥çœ‹ä¸‹viewçš„çº¦æŸå°†viewçš„å›ºæœ‰å°ºå¯¸è®¾ç½®ä¸ºplaceholderã€‚ æˆ‘ä»¬éƒ½çŸ¥é“Label Button ImageView(å·²ç»è®¾ç½®imageå±æ€§)è¿™äº›æ§ä»¶ï¼Œåœ¨ç”¨AutoLayoutå¸ƒå±€æ—¶ï¼Œåªéœ€è¦è®¾ç½®å¤–è¾¹è·å°±è¡Œäº†ã€‚AutoLayoutä¼šè‡ªåŠ¨é€‚åº”sizeå¤§å°ã€‚è¿™å°±æ˜¯å›ºæœ‰å°ºå¯¸ã€‚åè§‚Viewå°±ä¸è¡Œäº†ã€‚å‡å¦‚åªè®¾ç½®Viewçš„å¤–è¾¹è·ï¼Œè¿™æ—¶ä¸€å®šä¼šæŠ¥å‡ºçº¦æŸé”™è¯¯ã€‚ä½†æ˜¯Viewä½œä¸ºå®¹å™¨ã€‚å®ƒèƒ½æ ¹æ®å­æ§ä»¶çš„å¤§å°æ¥è‡ªé€‚åº”ã€‚åªéœ€è¦å°†å…¶å›ºæœ‰å°ºå¯¸(size)éƒ½è®¾ç½®ä¸º0ã€‚ è¿™æ˜¯å¯¹äºé«˜åº¦ä¸å›ºå®šçš„æ¥è®²ã€‚å¦‚æœå®½åº¦ä¸å›ºå®šå‘¢ï¼Ÿç­”æ¡ˆæ˜¯åŒæ ·é€‚ç”¨ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œviewçš„å®½åº¦æ˜¯å›ºå®šçš„ã€‚é«˜åº¦ä¸å›ºå®šã€‚ éœ€è¦æ³¨æ„çš„é—®é¢˜å¦‚æœä¸è®¾ç½®viewçš„å·¦å³è¾¹é—´è·æˆ–è€…å®½åº¦ä½ å°±ä¼šå‘ç°å˜æˆäº†è¿™æ ·:viewçš„å·¦å³è¾¹è·å·²ç»è¢«Labelæ’‘åˆ°å±å¹•å¤–é¢äº†ã€‚å› ä¸ºè¿™æ—¶viewçš„å®½åº¦ä¹Ÿæ˜¯ä¼šéšç€Labelå˜åŒ–çš„ã€‚æ‰€ä»¥è¯´æˆ‘è®¾ç½®äº†viewçš„å·¦å³è¾¹è·(æˆ–è€…è®¾ç½®å…¶å›ºå®šçš„å®½åº¦) éªŒè¯æ¥æ¥ä¸‹å°±å¯ä»¥è®¾ç½®Labelçš„textå±æ€§äº†ã€‚éšä¾¿è¾“å…¥æ±‰å­—æ¥éªŒè¯ä¸€ä¸‹ï¼š å¯ä»¥å‘ç°viewçš„é«˜åº¦å·²ç»éšç€Labelçš„å˜åŒ–è€Œå˜åŒ–äº†ã€‚å…¶ä»–çš„æ§ä»¶ä»¥æ­¤ç±»æ¨ã€‚éƒ½æ˜¯ä¸€æ ·çš„é“ç†ã€‚å¦å¤–çº¯ä»£ç å¸ƒå±€ä¹ŸåŒæ ·é€‚ç”¨ã€‚ æ€»ç»“viewä½œä¸ºå®¹å™¨ç±»å…¶æ‰¿è½½å…¶ä»–æ§ä»¶çš„æ˜¾ç¤ºã€‚åªè¦è®¾ç½®äº†å­æ§ä»¶çš„è·ç¦»è‡ªå·±çš„çº¦æŸã€‚å¹¶å°†è‡ªå·±çš„å›ºæœ‰å°ºå¯¸è®¾ç½®ä¸ºplaceholder(ä¹Ÿå°±æ˜¯widthå’Œheightéƒ½ä¸º0)ã€‚è¿™æ ·AutoLayoutå°±èƒ½è‡ªåŠ¨è®¡ç®—å‡ºviewçš„å¤§å°ã€‚ è¡¥å……æ€ä¹ˆæ ·æ‹¿åˆ°viewçš„å¤§å°å‘¢ï¼Ÿç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·çš„API 1234567891011extension UIView &#123; /* The size fitting most closely to targetSize in which the receiver's subtree can be laid out while optimally satisfying the constraints. If you want the smallest possible size, pass UILayoutFittingCompressedSize; for the largest possible size, pass UILayoutFittingExpandedSize. Also see the comment for UILayoutPriorityFittingSizeLevel. */ @available(iOS 6.0, *) open func systemLayoutSizeFitting(_ targetSize: CGSize) -&gt; CGSize // Equivalent to sending -systemLayoutSizeFittingSize:withHorizontalFittingPriority:verticalFittingPriority: with UILayoutPriorityFittingSizeLevel for both priorities. @available(iOS 8.0, *) open func systemLayoutSizeFitting(_ targetSize: CGSize, withHorizontalFittingPriority horizontalFittingPriority: UILayoutPriority, verticalFittingPriority: UILayoutPriority) -&gt; CGSize&#125; åœ¨viewDidLayoutSubviewsæˆ–è€…layoutSubviewsä¸­é€šè¿‡è°ƒç”¨ä¸Šé¢APIå°±èƒ½å¤Ÿè·å¾—é€šè¿‡AutoLayoutè®¡ç®—è¿‡åviewçš„å¤§å°ã€‚","categories":[{"name":"Swift","slug":"Swift","permalink":"http://yoursite.com/categories/Swift/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"React Native è‡ªå®šä¹‰ç»„ä»¶","slug":"React-Native-è‡ªå®šä¹‰ç»„ä»¶","date":"2017-07-10T08:02:49.000Z","updated":"2018-03-02T06:31:56.250Z","comments":true,"path":"2017/07/10/React-Native-è‡ªå®šä¹‰ç»„ä»¶/","link":"","permalink":"http://yoursite.com/2017/07/10/React-Native-è‡ªå®šä¹‰ç»„ä»¶/","excerpt":"","text":"æ–¹æ³•ä¸€ï¼šè‡ªå®šä¹‰ç»„ä»¶(Button)ä»£ç ï¼š 12345678910111213export default class Button extends Component&#123; render()&#123; //è§£æ„ const &#123;title,onClick&#125; = this.props; return( &lt;TouchableOpacity style=&#123;styles.touchStyle&#125; onPress=&#123;onClick&#125; &gt; &lt;Text style=&#123;styles.textStyle&#125;&gt;&#123;this.props.title&#125;&lt;/Text&gt; &lt;/TouchableOpacity&gt; ) &#125;;&#125; export defaultå…³é”®å­—ï¼šå¯¼å‡ºè‡ªå®šä¹‰ç»„ä»¶,å¯ä»¥è¢«åˆ«çš„jsæ–‡ä»¶æ‰€å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å…³é”®å­—,å°±åªèƒ½åœ¨æœ¬jsæ–‡ä»¶ä½¿ç”¨è¯¥ç±»ã€‚ä¾‹å¦‚åœ¨Login.jsæ–‡ä»¶ä¸­å¯ä»¥ç”¨ 1import Button from &apos;./Button&apos; å¯¼å…¥Buttonç»„ä»¶ 12//è§£æ„const &#123;title,onClick&#125; = this.props; è§£æ„ä»çˆ¶ç»„ä»¶çš„ä¼ è¿‡æ¥çš„props, å­ç»„ä»¶æ‹¿åˆ°çˆ¶ç»„ä»¶è®¾ç½®çš„å±æ€§å€¼,æ˜¾ç¤ºä¼ é€’çš„å€¼æˆ–è€…å¤„ç†ä¼ é€’è¿‡æ¥çš„æ–¹æ³•ã€‚ åˆ—å¦‚ä¸Šé¢ä»£ç : 12345678///æ˜¾ç¤ºButtonçš„title&lt;Text style=&#123;styles.textStyle&#125;&gt;&#123;this.props.title&#125;&gt;&lt;/Text&gt;///å¤„ç†TouchableOpacityçš„ç‚¹å‡»äº‹ä»¶&lt;TouchableOpacity style=&#123;styles.touchStyle&#125; onPress=&#123;onClick&#125;&gt;&lt;/TouchableOpacity&gt; çˆ¶ç»„ä»¶è°ƒç”¨ä»£ç : ä¼ é€’titleä¿¡æ¯å’ŒonClickæ–¹æ³•å›è°ƒ 12&lt;Button title=\"ç™»å½•\" onClick=&#123;() =&gt; alert('ç‚¹å‡»äº†ç™»å½•æŒ‰é’®')&#125;/&gt; æ–¹æ³•äºŒä¸æ–¹æ³•ä¸€çš„åŒºåˆ«ä¸å¤§ ä»£ç ï¼š 1234567891011121314151617181920212223import React, &#123; Component,PropTypes &#125; from 'react';import &#123; Text,TouchableOpacity,StyleSheet &#125; from 'react-native';export default class Button extends Component&#123; static propTypes = &#123; title: PropTypes.string, onPress: PropTypes.func &#125; render()&#123; return( &lt;TouchableOpacity style=&#123;styles.touchStyle&#125; onPress=&#123;()=&gt;&#123; if (this.props.onPress) &#123; this.props.onPress(this) &#125; &#125;&#125; &gt; &lt;Text style=&#123;styles.textStyle&#125;&gt;&#123;this.props.title&#125;&lt;/Text&gt; &lt;/TouchableOpacity&gt; ) &#125;;&#125; å…¶ä¸­ 1234static propTypes = &#123; title: PropTypes.string, onPress: PropTypes.func &#125; æš´éœ²å‡ºç»„ä»¶çš„å±æ€§(title)å’Œæ–¹æ³•(onPress)ã€‚ 123456789&lt;TouchableOpacity style=&#123;styles.touchStyle&#125; onPress=&#123;()=&gt;&#123; if (this.props.onPress) &#123; this.props.onPress(this) &#125; &#125;&#125; &gt; &lt;Text style=&#123;styles.textStyle&#125;&gt;&#123;this.props.title&#125;&lt;/Text&gt; &lt;/TouchableOpacity&gt; å¤„ç†TouchableOpacityçš„ç‚¹å‡»äº‹ä»¶,è®¾ç½®å›è°ƒå‡½æ•° æ˜¾ç¤ºButtonçš„title ç»„ä»¶è°ƒç”¨ï¼š 12&lt;Button title=&quot;ç™»å½•&quot; onPress=&#123;() =&gt; alert(&apos;ç‚¹å‡»äº†ç™»å½•æŒ‰é’®&apos;)&#125;/&gt; Demo","categories":[{"name":"React Native","slug":"React-Native","permalink":"http://yoursite.com/categories/React-Native/"}],"tags":[{"name":"React Native","slug":"React-Native","permalink":"http://yoursite.com/tags/React-Native/"}]},{"title":"è®°ä¸€æ¬¡React Nativeçš„StackNavigatorä½¿ç”¨å°ç»“","slug":"è®°ä¸€æ¬¡React-Native-StackNavigatorä½¿ç”¨å°ç»“","date":"2017-07-06T08:10:49.000Z","updated":"2018-03-02T06:36:32.918Z","comments":true,"path":"2017/07/06/è®°ä¸€æ¬¡React-Native-StackNavigatorä½¿ç”¨å°ç»“/","link":"","permalink":"http://yoursite.com/2017/07/06/è®°ä¸€æ¬¡React-Native-StackNavigatorä½¿ç”¨å°ç»“/","excerpt":"","text":"åˆå§‹åŒ–1234export default ( routeConfigMap: NavigationRouteConfigMap, stackConfig: StackNavigatorConfig = &#123;&#125;) åœ¨StackNavigatorçš„åˆå§‹åŒ–ä¸­éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šrouteConfigMap è¡¨ç¤ºè·¯ç”±é…ç½®å‚æ•°, stackConfigè¡¨ç¤ºé…ç½®StackNavigatorConfigä¸€äº›æ ·å¼æˆ–è€…å±æ€§ã€‚ 123456789101112const MainSrceenStackNavigator = StackNavigator( &#123; MainScreenNavigator: &#123;screen: MainScreenNavigator&#125;, DiscoverDetail: &#123;screen: DiscoverDetail&#125;, SettingDetail: &#123;screen: SettingDetail&#125; &#125;, &#123; initialRouteName: 'MainScreenNavigator', mode:'card', headerMode:'screen', &#125;); ä¸Šè¿°ä»£ç å—é…ç½®äº†3ä¸ªä¸åŒè·¯ç”±çš„ç•Œé¢ï¼ŒinitialRouteNameè®¾ç½®æ ¹å¯¼èˆªæ§åˆ¶å™¨ç•Œé¢,é»˜è®¤ç¬¬ä¸€ä¸ªä¸ºæ ¹è·¯ç”±ã€‚modeè¡¨ç¤ºç•Œé¢çš„è·³è½¬æ–¹å¼:pushæˆ–è€…æ¨¡æ€å¼¹å‡ºã€‚headerModeè¡¨ç¤ºç•Œé¢åœ¨åšè·³è½¬æ—¶çš„åŒºåŸŸã€‚æœ‰ä¸‰ç§æ–¹å¼:float,screen,noneã€‚floatè¡¨ç¤ºä¸åŒ…æ‹¬å¯¼èˆªæ¡åœ¨å†…;screenè¡¨ç¤ºæ•´ä¸ªå±å¹•(åŒ…æ‹¬å¯¼èˆªæ¡);noneè¡¨ç¤ºå¯¼èˆªæ¡çš„éšè—ã€‚è¿˜æœ‰å¾ˆå¤šå±æ€§å¯é€‰é…ç½®ã€‚ç”¨åˆ°å¯åœ¨å®˜ç½‘æŸ¥è¯¢React Navigation ã€‚ ğŸŒ°åœ¨æˆ‘çš„ç•Œé¢é…ç½®å¯¼èˆªæ¡æ ·å¼ 123456789101112131415161718static navigationOptions = (&#123;navigation&#125;)=&gt;(&#123; // tabBarLabel: 'æˆ‘çš„', title: 'æˆ‘', headerStyle:&#123; backgroundColor: 'black' &#125;, headerTitleStyle:&#123; color: 'white' &#125;, tabBarIcon:(&#123;tintColor,focused&#125;) =&gt; ( &lt;TabBarItem tintColor=&#123;tintColor&#125; focused=&#123;focused&#125; normalImage=&#123;require('./source/æˆ‘çš„@2x.png')&#125; selectedImage=&#123;require('./source/æˆ‘çš„-é€‰ä¸­@2x.png')&#125; /&gt; ), &#125;); ç„¶åå†æ˜¾ç¤ºå‡ºListView(ä¸‰ä¸ªåˆ†åŒºçš„ListView) 123456789constructor(props) &#123; super(props); var ds = new ListView.DataSource(&#123;rowHasChanged: (r1, r2) =&gt; r1 !== r2,sectionHeaderHasChanged:(s1,s2)=&gt;s1 !== s2&#125;); this.state = &#123; dataSource: ds.cloneWithRowsAndSections([['é’±åŒ…'],['æ”¶è—','ç›¸å†Œ','å¡åŒ…','è¡¨æƒ…'],['è®¾ç½®']]), &#125;; &#125; 1234567891011render()&#123; return ( &lt;View style=&#123;styles.container&#125;&gt; &lt;ListView dataSource=&#123;this.state.dataSource&#125; renderRow=&#123;this._renderRow.bind(this)&#125; renderSeparator=&#123;this._renderSeparator&#125;&gt; &lt;/ListView&gt; &lt;/View&gt; ) &#125; åˆ†å‰²çº¿ 1234567_renderSeparator(sectionID, rowID, adjacentRowHighlighted) &#123; if(sectionID == 1)&#123; return ( &lt;View style=&#123;styles.separatorStyle&#125;&gt;&lt;/View&gt; ) &#125; &#125; ListViewæ¯ä¸ªåˆ†åŒºæ¯ä¸€è¡Œçš„æ•°æ® 123456789101112131415161718192021222324252627282930313233343536_renderRow(rowData, sectionID, rowID, highlightRow)&#123; if (sectionID == 0) &#123; return( &lt;TouchableOpacity onPress=&#123;() =&gt;&#123; highlightRow(sectionID,rowID), this.props.navigation.navigate('SettingDetail',&#123;'name': rowData&#125;) &#125;&#125;&gt; &lt;View style=&#123;styles.section_0_style&#125;&gt; &lt;Text style=&#123;&#123;fontSize:15&#125;&#125;&gt;&#123;rowData&#125;&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; ) &#125;else if(sectionID == 1)&#123; return( &lt;TouchableOpacity onPress=&#123;() =&gt;&#123; highlightRow(sectionID,rowID), this.props.navigation.navigate('SettingDetail',&#123;'name': rowData&#125;) &#125;&#125;&gt; &lt;View style=&#123;styles.viewStyle&#125;&gt; &lt;Text style=&#123;&#123;fontSize:15&#125;&#125;&gt;&#123;rowData&#125;&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; ) &#125;else&#123; return( &lt;TouchableOpacity onPress=&#123;() =&gt;&#123; highlightRow(sectionID,rowID), this.props.navigation.navigate('SettingDetail',&#123;'name': rowData&#125;) &#125;&#125;&gt; &lt;View style=&#123;styles.section_0_style&#125;&gt; &lt;Text style=&#123;&#123;fontSize:15&#125;&#125;&gt;&#123;rowData&#125;&lt;/Text&gt; &lt;/View&gt; &lt;/TouchableOpacity&gt; ) &#125; &#125; this.props.navigation.navigate(&#39;SettingDetail&#39;,{&#39;name&#39;: rowData}) navigationå¯ç”¨å±æ€§æ¥è·å–ã€‚ è¯¥å‡½æ•°ä¼ é€’å‚æ•°{rowData}å³ListViewæ¯è¡Œæ•°æ®åˆ°SettingDetailç•Œé¢ã€‚ å†SettingDetailç•Œé¢ä¸­å¯ç”¨ä¸‹é¢æ–¹æ³• 1234static navigationOptions = (&#123;navigation&#125;) =&gt; (&#123; title:`$&#123;navigation.state.params.name&#125;`, headerBackTitle: 'è¿”å›', &#125;) æ¥è·å–ä¼ é€’è¿‡æ¥çš„å‚æ•°æ˜¾ç¤ºåˆ°å¯¼èˆªæ¡çš„titleã€‚","categories":[{"name":"React Native","slug":"React-Native","permalink":"http://yoursite.com/categories/React-Native/"}],"tags":[{"name":"React Native","slug":"React-Native","permalink":"http://yoursite.com/tags/React-Native/"}]},{"title":"iOSç•Œé¢ä¼˜åŒ–ç³»åˆ—ä¹‹ï¼šå¤„ç†å›¾ç‰‡ç¼©æ”¾é—®é¢˜","slug":"iOSç•Œé¢ä¼˜åŒ–ç³»åˆ—ä¹‹ï¼šå¤„ç†å›¾ç‰‡ç¼©æ”¾é—®é¢˜","date":"2017-02-13T06:56:05.000Z","updated":"2018-03-02T06:40:05.173Z","comments":true,"path":"2017/02/13/iOSç•Œé¢ä¼˜åŒ–ç³»åˆ—ä¹‹ï¼šå¤„ç†å›¾ç‰‡ç¼©æ”¾é—®é¢˜/","link":"","permalink":"http://yoursite.com/2017/02/13/iOSç•Œé¢ä¼˜åŒ–ç³»åˆ—ä¹‹ï¼šå¤„ç†å›¾ç‰‡ç¼©æ”¾é—®é¢˜/","excerpt":"","text":"åœ¨ä¼—å¤šé˜…è¯»ç±»çš„APPä¸­ï¼Œæ¯”å¦‚: è¿™ç±»æ¯”è¾ƒç¨å¾®ç®€å•çš„ç•Œé¢ä¸­å……æ–¥ç€å¤§é‡çš„çš„å›¾ç‰‡ï¼Œå¤šåˆ™6å¼ ,å°‘åˆ™3-4å¼ ã€‚å†è€…åƒå¾®åšè¿™ç±»é‡å‹ç¤¾äº¤çš„APPï¼Œæœ‰çš„celléƒ½å·²ç»æœ‰9å¼ å›¾ç‰‡ã€‚å›¾ç‰‡çš„ä¼˜åŒ–ç¨‹åº¦å¯¹æ•´ä¸ªç•Œé¢çš„æµç•…åº¦æ¥è¯´éƒ½æ˜¯é‡ä¸­ä¹‹é‡ã€‚ï¼ˆå¦å¤–ä¸€ä¸ªä¹Ÿå¾ˆé‡è¦çš„åœ°æ–¹å°±æ˜¯æ–‡æœ¬çš„å¼‚æ­¥æ¸²æŸ“ï¼‰ï¼Œåå‡ ä¸ªç³»åˆ—ä¹Ÿä¼šè¯´åˆ°ã€‚ åƒè¿™ç§å¼‚æ­¥åŠ è½½å›¾ç‰‡çš„å¼€æºåº“æœ‰å¾ˆå¤šï¼šSD_WebImageView YYWebImage Kingfisher PINRemoteImage â€¦å¼€å‘è€…å¦‚æœåªæ˜¯ç®€å•çš„è°ƒç”¨ä¸€ä¸‹ sd_setImageWithURL: å›¾ç‰‡èƒ½å¤Ÿå¾ˆå¥½çš„æ˜¾ç¤ºå‡ºæ¥ã€‚å‡å¦‚ä»ç½‘ç»œåŠ è½½çš„å›¾ç‰‡ä¸è‡ªå·±è®¾ç½®çš„UIImageViewçš„å°ºå¯¸ä¸ä¸€è‡´,å°±ä¼šå¯¼è‡´è¿™ç§ç»“æœã€‚ å¦‚æœæ˜¯çœŸæœºè°ƒè¯• æ‰“å¼€Instrumentsä¸­Core Animationåœ¨å³ä¾§æ ä¸­æ‰“å¼€å¦‚æœæ˜¯æ¨¡æ‹Ÿå™¨ï¼Œæ‰“å¼€Debug -&gt;Color Misaligned Images è¿™ä¸ªé€‰é¡¹æ£€æŸ¥äº†å›¾ç‰‡æ˜¯å¦è¢«ç¼©æ”¾ï¼Œä»¥åŠåƒç´ æ˜¯å¦å¯¹é½ã€‚è¢«æ”¾ç¼©çš„å›¾ç‰‡ä¼šè¢«æ ‡è®°ä¸ºé»„è‰²ï¼Œåƒç´ ä¸å¯¹é½åˆ™ä¼šæ ‡æ³¨ä¸ºç´«è‰²ã€‚**é»„è‰²ã€ç´«è‰²è¶Šå¤šï¼Œæ€§èƒ½è¶Šå·®ã€‚ è§£å†³åŠæ³•ï¼š1.ä¸åå°åå•†ï¼Œè®©åå°è¿”å›çš„å›¾ç‰‡å°ºå¯¸ä¸å®¢æˆ·ç«¯UIImageViewå°ºå¯¸ä¸€è‡´;2.è‡ªå·±å¤„ç†ã€‚ ä¸‹é¢ä»‹ç»ä¸‹å¦‚ä½•è‡ªå·±å¤„ç† 12345678910111213141516extension UIImage &#123; func resizeImage(_ image: UIImage, targetSize: CGSize) -&gt; UIImage? &#123; let newRect = CGRect(x: 0, y: 0, width: targetSize.width, height: targetSize.height).integral UIGraphicsBeginImageContextWithOptions(targetSize, false, 0) if let context = UIGraphicsGetCurrentContext() &#123; context.interpolationQuality = .high let flipVertical = CGAffineTransform(a: 1, b: 0, c: 0, d: -1, tx: 0, ty: targetSize.height) context.concatenate(flipVertical) context.draw(self.cgImage!, in: newRect) let newImage = UIImage(cgImage: context.makeImage()!) UIGraphicsEndImageContext() return newImage &#125; return nil &#125;&#125; å¾ˆç®€å•å°±æ˜¯ç½‘ç»œä¸‹è½½ä¸‹æ¥çš„å›¾ç‰‡æŒ‰ç…§è‡ªå·±è®¾ç½®çš„UIImageViewçš„å°ºå¯¸æ¥é‡æ–°drawä¸€ä¸ªã€‚ 1234567func setImage&lt;T: UIImageView&gt;(_ imageView: T, URLString: String, targetSize: CGSize)&#123; imageView.pin_setImage(from: URL.init(string: URLString), completion: &#123;(PINRemoteImageManagerResult) in if let image = PINRemoteImageManagerResult.image&#123; imageView.image = image.resizeImage(image, targetSize: targetSize) &#125; &#125;) &#125; é‡æ–°ç»™UIImageViewè®¾ç½®imageå±æ€§ é‡æ–°æ‰“å¼€Color Misaligned ImagesåŠŸèƒ½æ¥æ£€æµ‹ä¸€ä¸‹ å—¯ï¼ ä¸é”™å“¦ï¼Œä¹‹å‰çš„é»„è‰²æ²¡æœ‰äº†ã€‚ æœ¬ä»¥ä¸ºå°±è¾¾åˆ°äº†çš„è¦æ±‚ã€‚ ä½†æ˜¯ç”¨Instrumentsä¸­Time Profileræ¥æ£€æµ‹ä¸‹å¤„ç†è¯¥å‡½æ•°æ‰€éœ€è¦çš„æ—¶é—´ ç”¨Core Animationæ¥æµ‹ä¸‹FPS è™½ç„¶å·²ç»å¾ˆæµç•…äº†ï¼ˆæ³¨ï¼šæ–‡æœ¬ç”¨åˆ°äº†å¼‚æ­¥ç»˜åˆ¶ï¼‰, åŸºæœ¬åœ¨54å·¦å³ï¼Œ ä½†æ˜¯è·ç¦»æ»¡å¸§59 - 60è¿˜å·®é‚£ä¹ˆä¸€ä¸¢ä¸¢ã€‚ å†æ¥è§‚å¯Ÿç»™UIImageæ‰©å±•çš„è¿™ä¸ªæ–¹æ³• å‘ç°å®ƒæ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå½“å¿«é€Ÿæ»‘åŠ¨è¡¨æ ¼æ—¶ï¼Œä¼šæœ‰å¤§é‡çš„å›¾ç‰‡åœ¨ä¸»çº¿ç¨‹ä¸­é‡æ–°ç»˜åˆ¶ã€‚è¿™ä¸ªæ˜¯é€ æˆç¼ºå¤±é‚£å‡ å¸§çš„ä¸»è¦åŸå› ã€‚ è§£å†³åŠæ³•ï¼šé‚£å°±åœ¨å­çº¿ç¨‹æ€»å»draw, åœ¨ä¸»çº¿ç¨‹ä¸­å»æ˜¾ç¤º 1234567891011121314151617181920212223extension UIImageView &#123; func drawImage(_ image: UIImage, targetSize: CGSize) &#123; DispatchQueue.global().async &#123; let newRect = CGRect(x: 0, y: 0, width: targetSize.width, height: targetSize.height).integral UIGraphicsBeginImageContextWithOptions(targetSize, false, 0) if let context = UIGraphicsGetCurrentContext() &#123; context.interpolationQuality = .high let flipVertical = CGAffineTransform(a: 1, b: 0, c: 0, d: -1, tx: 0, ty: targetSize.height) context.concatenate(flipVertical) context.saveGState() context.draw(image.cgImage!, in: newRect) context.restoreGState() let newImage = UIGraphicsGetImageFromCurrentImageContext() UIGraphicsEndImageContext() DispatchQueue.main.async &#123; if let newImage = newImage&#123; self.layer.contents = newImage.cgImage &#125; &#125; &#125; &#125; &#125;&#125; Objective-C 123456789101112131415161718192021-(void)drawImage:(UIImage *)image targetSize:(CGSize )size&#123; dispatch_async(dispatch_get_global_queue(QOS_CLASS_DEFAULT, 0), ^&#123; CGRect newRect = CGRectMake(0, 0, size.width, size.height); CGRectIntegral(newRect); UIGraphicsBeginImageContextWithOptions(size, NO, [UIScreen mainScreen].scale); CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetInterpolationQuality(context, kCGInterpolationHigh); CGAffineTransform transform = CGAffineTransformMake(1, 0, 0, -1, 0, size.height); CGContextConcatCTM(context, transform); CGContextSaveGState(context); CGContextDrawImage(context, newRect, image.CGImage); CGContextRestoreGState(context); UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); dispatch_async(dispatch_get_main_queue(), ^&#123; if (newImage) &#123; self.layer.contents = (id)(newImage.CGImage); &#125; &#125;); &#125;);&#125; è¯¥æ–¹æ³•ä¹Ÿå¾ˆç®€å•,åœ¨å­çº¿ç¨‹ä¸­å»é‡æ–°drawä¸€ä¸ªUIImage,åœ¨ä¸»çº¿ç¨‹ä¸­å»æ˜¾ç¤ºã€‚ è°ƒç”¨ï¼š 12345678func setImage&lt;T: UIImageView&gt;(_ imageView: T, URLString: String, targetSize: CGSize)&#123; imageView.pin_setImage(from: URL.init(string: URLString), completion: &#123;(PINRemoteImageManagerResult) in if let image = PINRemoteImageManagerResult.image&#123; imageView.drawImage(image, targetSize: targetSize)// imageView.image = image.resizeImage(image, targetSize: targetSize) &#125; &#125;) &#125; é‡æ–°æµ‹ä¸‹å¸§æ•°ä»¥åŠTime Profile å½“å¿«é€Ÿæ»‘åŠ¨çš„æ—¶å€™åŸºæœ¬ä¸Šèƒ½å¤Ÿè¾¾åˆ°æ…¢å¸§çš„çŠ¶æ€ æ‰€ç”¨çš„æ—¶é—´ä¹Ÿæ˜¯éå¸¸å°‘çš„ã€‚åœ¨16msä»¥å†…ã€‚","categories":[{"name":"Objective-C","slug":"Objective-C","permalink":"http://yoursite.com/categories/Objective-C/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"dispatch_semaphore_t ä¿¡å·é‡","slug":"dispatch-semaphore-t-ä¿¡å·é‡","date":"2016-12-08T08:20:14.000Z","updated":"2018-03-16T10:10:04.152Z","comments":true,"path":"2016/12/08/dispatch-semaphore-t-ä¿¡å·é‡/","link":"","permalink":"http://yoursite.com/2016/12/08/dispatch-semaphore-t-ä¿¡å·é‡/","excerpt":"","text":"dispatch_semaphore_createdispatch_semaphore_create(long value) ä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°å­—,è¯¥æ•°å­—å¿…é¡»å¤§äºç­‰äº0ã€‚åˆ—å¦‚ä¼ å…¥10ï¼Œè¡¨ç¤ºåˆ›å»ºä¸€ä¸ªä¿¡å·æ€»é‡ä¸º10ä¿¡å·é‡ï¼ˆå°±å¥½æ¯”ä¸€å…±æœ‰10ä¸ªåœè½¦ä½ï¼‰ã€‚å‡å¦‚ä¼ å…¥0 The starting value for the semaphore. Passing a value less than zero will cause NULL to be returned. åˆ™è¿”å›ä¸ºNULL dispatch_semaphore_waitè¯¥å‡½æ•°ä¼šä½¿ä¼ å…¥çš„ä¿¡å·é‡å‡1,å½“ä¿¡å·é‡æœ‰ &gt;= 1æ—¶,å°±ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚å¦‚æœæ²¡æœ‰,è¯¥çº¿ç¨‹å°±ä¼šä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå¯é˜»å¡å½“å‰çº¿ç¨‹ã€‚è¯¥å‡½æ•°éœ€è¦ä¼ å…¥å¦ä¸€ä¸ªå‚æ•° #define DISPATCH_TIME_NOW è¡¨ç¤ºä»ç°åœ¨å¼€å§‹ #define DISPATCH_TIME_FOREVER è¡¨ç¤ºæ°¸ä¸è¶…æ—¶ dispatch_semaphore_singleè¯¥å‡½æ•°ä¼šä½¿ä¼ å…¥çš„ä¿¡å·é‡åŠ 1,ä¸dispatch_ semaphore _ waitæˆå¯¹å‡ºç°ã€‚ æ‹¿YYKitæºç æ¥ä¸¾ä¾‹ï¼šåœ¨#import â€œUIButton+YYWebImage.mâ€ä¸­ 1234567891011121314151617181920212223242526272829303132- (instancetype)init &#123; self = [super init]; //å£°æ˜ä¸€ä¸ªä¿¡å·æ€»é‡ä¸º1ä¿¡å·é‡ _lock = dispatch_semaphore_create(1); _dic = [NSMutableDictionary new]; return self;&#125;- (_YYWebImageSetter *)setterForState:(NSNumber *)state &#123;//æ˜¯å½“å‰çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€,ç›´åˆ°æœ‰ &gt;= 1 ä¿¡å·é‡æ‰ä¼šç»§ç»­æ‰§è¡Œä¸‹é¢çš„å–å€¼æ“ä½œ dispatch_semaphore_wait(_lock, DISPATCH_TIME_FOREVER); //å¦‚æœä¸åŠ å…¥çº¿ç¨‹é”ï¼Œå°±å¾ˆæœ‰å¯èƒ½å‘ç”Ÿå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®_dicå­—å…¸,é€ æˆèµ„æºç«äº‰ã€‚ _YYWebImageSetter *setter = _dic[state]; //ä½¿è¯¥ä¿¡å·é‡åŠ 1ã€‚ä¿æŒä¿¡å·é‡çš„å¹³è¡¡ï¼Œå¦‚æœæ²¡æœ‰ä¿æŒä¿¡å·é‡çš„å¹³è¡¡,å¯èƒ½ä¼šå‡ºç°è«åçš„bug,ç”šè‡³crashã€‚ dispatch_semaphore_signal(_lock); return setter;&#125;- (_YYWebImageSetter *)lazySetterForState:(NSNumber *)state &#123; //åŒç† dispatch_semaphore_wait(_lock, DISPATCH_TIME_FOREVER); _YYWebImageSetter *setter = _dic[state]; if (!setter) &#123; setter = [_YYWebImageSetter new]; _dic[state] = setter; &#125; dispatch_semaphore_signal(_lock); return setter;&#125; åœ¨è¯»å–_YYWebImageSetterè¯¥å‡½æ•°ä¸­ä½¿ç”¨dispatch_semaphore_waitå’Œdispatch_semaphore_signalä½¿å½“å‰å‡½æ•°ä¸ºçº¿ç¨‹å®‰å…¨ã€‚å®é™…ä¸Šä¿¡å·é‡å°±æ˜¯é”ï¼Œå®ƒä¸ @synchronized å‡½æ•°çœ‹èµ·æ¥å¾ˆåƒã€‚æ‰€èµ·åˆ°çš„ä½œç”¨å°±æ˜¯è‡³å§‹è‡³ç»ˆåªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹å»è®¿é—®è¯¥å‡½æ•°ã€‚ åœ¨ è¿™è¾¹æ–‡ç« ä¸­å¾ˆå½¢è±¡çš„æ¯”å–»äº†ä¿¡å·é‡ 123456789101112131415å…³äºä¿¡å·é‡ï¼Œä¸€èˆ¬å¯ä»¥ç”¨åœè½¦æ¥æ¯”å–»ã€‚ åœè½¦åœºå‰©ä½™4ä¸ªè½¦ä½ï¼Œé‚£ä¹ˆå³ä½¿åŒæ—¶æ¥äº†å››è¾†è½¦ä¹Ÿèƒ½åœçš„ä¸‹ã€‚å¦‚æœæ­¤æ—¶æ¥äº†äº”è¾†è½¦ï¼Œé‚£ä¹ˆå°±æœ‰ä¸€è¾†éœ€è¦ç­‰å¾…ã€‚ ä¿¡å·é‡çš„å€¼å°±ç›¸å½“äºå‰©ä½™è½¦ä½çš„æ•°ç›®ï¼Œdispatch_semaphore_waitå‡½æ•°å°±ç›¸å½“äºæ¥äº†ä¸€è¾†è½¦ï¼Œdispatch_semaphore_signal å°±ç›¸å½“äºèµ°äº†ä¸€è¾†è½¦ã€‚åœè½¦ä½çš„å‰©ä½™æ•°ç›®åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±å·²ç»æŒ‡æ˜äº†ï¼ˆdispatch_semaphore_createï¼ˆlong valueï¼‰ï¼‰ï¼Œ è°ƒç”¨ä¸€æ¬¡dispatch_semaphore_signalï¼Œå‰©ä½™çš„è½¦ä½å°±å¢åŠ ä¸€ä¸ªï¼›è°ƒç”¨ä¸€æ¬¡dispatch_semaphore_waitå‰©ä½™è½¦ä½å°±å‡å°‘ä¸€ä¸ªï¼› å½“å‰©ä½™è½¦ä½ä¸º0æ—¶ï¼Œå†æ¥è½¦ï¼ˆå³è°ƒç”¨dispatch_semaphore_waitï¼‰å°±åªèƒ½ç­‰å¾…ã€‚æœ‰å¯èƒ½åŒæ—¶æœ‰å‡ è¾†è½¦ç­‰å¾…ä¸€ä¸ªåœè½¦ä½ã€‚æœ‰äº›è½¦ä¸» æ²¡æœ‰è€å¿ƒï¼Œç»™è‡ªå·±è®¾å®šäº†ä¸€æ®µç­‰å¾…æ—¶é—´ï¼Œè¿™æ®µæ—¶é—´å†…ç­‰ä¸åˆ°åœè½¦ä½å°±èµ°äº†ï¼Œå¦‚æœç­‰åˆ°äº†å°±å¼€è¿›å»åœè½¦ã€‚è€Œæœ‰äº›è½¦ä¸»å°±åƒæŠŠè½¦åœåœ¨è¿™ï¼Œ æ‰€ä»¥å°±ä¸€ç›´ç­‰ä¸‹å»ã€‚ ä¸¾ä¸ªğŸŒ° NSMutableArrayä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„,æˆ‘ä»¬å¯ä»¥ç¨ä½œä¿®é¥°,çº¿ç¨‹å®‰å…¨çš„å»æ›´æ–°æ•°ç»„ 1234567891011121314NSMutableArray *array = [NSMutableArray array]; dispatch_semaphore_t semphore = dispatch_semaphore_create(1); dispatch_queue_t concurrentQueue = dispatch_queue_create(\"com.lx.gcddemo\",DISPATCH_QUEUE_CONCURRENT); dispatch_apply(100, concurrentQueue, ^(size_t i) &#123; dispatch_semaphore_wait(semphore, DISPATCH_TIME_FOREVER); /* @synchronized (array) &#123; [array addObject:[NSNumber numberWithUnsignedInteger:i]]; &#125; */ [array addObject:[NSNumber numberWithUnsignedInteger:i]]; dispatch_semaphore_signal(semphore); &#125;); NSLog(@\"%@\",array);","categories":[{"name":"Objective-C","slug":"Objective-C","permalink":"http://yoursite.com/categories/Objective-C/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"cocoapods æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬(1.1.0)","slug":"cocoapodså‡çº§1.1.0","date":"2016-10-14T12:45:52.000Z","updated":"2016-10-14T13:00:19.000Z","comments":true,"path":"2016/10/14/cocoapodså‡çº§1.1.0/","link":"","permalink":"http://yoursite.com/2016/10/14/cocoapodså‡çº§1.1.0/","excerpt":"","text":"åœ¨Apple å‘å¸ƒswift3.0ä¹‹å ä¸€å¤§éƒ¨åˆ†è‘—åçš„ç¬¬ä¸‰æ–¹å¼€æºåº“,æ¯”å¦‚Alamofire,snapKit ä¹‹åéƒ½é™†ç»­æ›´æ–°åˆ°swift3.0ã€‚å½“æˆ‘ä»¬ç”¨cocoapodsç®¡ç†å®ƒä»¬æˆ–è€…ä½¿ç”¨å®ƒä»¬çš„æ—¶å€™éƒ½ä¼šçœ‹åˆ°è¿™æ ·ä¸€å¥è¯: 1CocoaPods 1.1.0+ is required to build Alamofire 4.0.0+. 1CocoaPods 1.1.0+ is required to build SnapKit 3.0.0+. éœ€è¦å°†cocoapodsæ›´æ–°åˆ°1.1.0ç‰ˆæœ¬ä»¥ä¸Š 1gem install cocoapods --pre //å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ ä½†æ˜¯ä¼šé‡åˆ°æƒé™é—®é¢˜ 1ERROR: While executing gem ... (Errno::EPERM) Operation not permitted - /usr/bin/pod éœ€è¦è¿™ä¹ˆä¸€å¥è¯ 1sudo gem install cocoapods --pre -n /usr/local/bin cocoa pods åœ¨10.11ä»¥ä¸Šçš„ç³»ç»Ÿä¸­Appleå·²ç»å¯ç”¨æ— æ ¹çš„å®‰è£… stack overflowè¿™ä¹ˆè§£é‡Š: 1This is happening because Apple has enabled rootless on the new install å‚è€ƒé“¾æ¥ æŸ¥çœ‹cocoapodså½“å‰ç‰ˆæœ¬ 1pod --version 11.1.0.beta.2 æ­¤æ—¶cocoapodsç‰ˆæœ¬å°±ä¼šæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬.","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://yoursite.com/categories/å…¶ä»–/"}],"tags":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://yoursite.com/tags/å…¶ä»–/"}]},{"title":"iOSå¼€å‘å°æŠ€å·§(ä¸€)","slug":"iOSå¼€å‘å°æŠ€å·§(ä¸€)","date":"2016-10-10T12:44:20.000Z","updated":"2017-08-10T01:52:24.000Z","comments":true,"path":"2016/10/10/iOSå¼€å‘å°æŠ€å·§(ä¸€)/","link":"","permalink":"http://yoursite.com/2016/10/10/iOSå¼€å‘å°æŠ€å·§(ä¸€)/","excerpt":"","text":"æ”¹å˜UIImagePickerControllerçš„å¯¼èˆªæ¡ä»¥åŠtitleçš„é¢œè‰²12345678910- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated&#123; [UIApplication sharedApplication].statusBarStyle = UIStatusBarStyleLightContent; UINavigationBar *bar = [UINavigationBar appearance]; NSMutableDictionary *titleDictionary = [NSMutableDictionary dictionary]; titleDictionary[NSForegroundColorAttributeName] = [UIColor whiteColor]; [bar setTitleTextAttributes:titleDictionary]; viewController.navigationController.navigationBar.barTintColor = DIF_BASE_COLOR; viewController.navigationController.navigationBar.tintColor = [UIColor whiteColor];&#125; åˆ©ç”¨KVCæ”¹å˜TextFieldçš„å ä½ç¬¦çš„é¢œè‰²1[self.nickNameTextField setValue:[UIColor whiteColor] forKeyPath:@\"_placeholderLabel.textColor\"]; TextViewçš„å­—æ•°é™åˆ¶123456789101112131415161718192021222324252627282930313233343536373839404142#define MaxNumberOfDescriptionChars 150-(void)textViewEditChanged:(NSNotification *)obj&#123; UITextView *textView = (UITextView *)obj.object; NSString *toBeString = textView.text; NSString *lang = [[UITextInputMode currentInputMode] primaryLanguage]; // é”®ç›˜è¾“å…¥æ¨¡å¼ if ([lang isEqualToString:@\"zh-Hans\"]) &#123; // ç®€ä½“ä¸­æ–‡è¾“å…¥ï¼ŒåŒ…æ‹¬ç®€ä½“æ‹¼éŸ³ï¼Œå¥ä½“äº”ç¬”ï¼Œç®€ä½“æ‰‹å†™ UITextRange *selectedRange = [textView markedTextRange]; //è·å–é«˜äº®éƒ¨åˆ† UITextPosition *position = [textView positionFromPosition:selectedRange.start offset:0]; // æ²¡æœ‰é«˜äº®é€‰æ‹©çš„å­—ï¼Œåˆ™å¯¹å·²è¾“å…¥çš„æ–‡å­—è¿›è¡Œå­—æ•°ç»Ÿè®¡å’Œé™åˆ¶ if (!position) &#123; if (toBeString.length &gt; MaxNumberOfDescriptionChars) &#123; textView.text = [toBeString substringToIndex:MaxNumberOfDescriptionChars]; &#125; &#125; // æœ‰é«˜äº®é€‰æ‹©çš„å­—ç¬¦ä¸²ï¼Œåˆ™æš‚ä¸å¯¹æ–‡å­—è¿›è¡Œç»Ÿè®¡å’Œé™åˆ¶ else&#123; &#125; &#125; // ä¸­æ–‡è¾“å…¥æ³•ä»¥å¤–çš„ç›´æ¥å¯¹å…¶ç»Ÿè®¡é™åˆ¶å³å¯ï¼Œä¸è€ƒè™‘å…¶ä»–è¯­ç§æƒ…å†µ else&#123; if (toBeString.length &gt; MaxNumberOfDescriptionChars) &#123; textView.text = [toBeString substringToIndex:MaxNumberOfDescriptionChars]; &#125; &#125;&#125;- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text&#123; NSString *new = [textView.text stringByReplacingCharactersInRange:range withString:text]; self.numLabel.text = [NSString stringWithFormat:@\"%zdå­—\",(MaxNumberOfDescriptionChars - new.length)]; if(new.length &gt; MaxNumberOfDescriptionChars)&#123; self.numLabel.text = [NSString stringWithFormat:@\"%zdå­—\",0]; if (![text isEqualToString:@\"\"]) &#123; return NO; &#125; &#125; return YES;&#125; åˆ¤æ–­å­—ç¬¦ä¸²æˆ–è€…é›†åˆç±»å‹æ˜¯å¦ä¸ºç©º1234567891011121314+ (BOOL)isEmpty:(id )obj&#123; if ([obj isKindOfClass:[NSString class]]) &#123; if(obj == nil || [obj class] == [NSNull null] || [obj isEqualToString:@\"\"] || [obj isEqualToString:@\"(null)\"] || [obj isEqualToString:@\"NULL\"] || [obj isEqualToString:@\"&lt;null&gt;\"] || [obj isEqualToString:@\"null\"]) &#123; return YES; &#125; return NO; &#125; if (obj == nil || (NSNull *)obj == [NSNull null] || ([obj respondsToSelector:@selector(length)] &amp;&amp; [obj length] == 0) || ([obj respondsToSelector:@selector(count)] &amp;&amp; [obj count] == 0))&#123; return YES; &#125; return NO;&#125; ç»™UIResponderæ·»åŠ indexPathå±æ€§åˆ—å¦‚åœ¨cellä¸­æœ‰button imageview å¯ä»¥åˆ©ç”¨è¯¥å±æ€§æ‰¾åˆ°cellä¸­æ”¹è¯¥è§†å›¾objective - C12345@interface UIResponder (Externtion)@property (nonatomic, strong) NSIndexPath *indexPath;@end 123456789- (void)setIndexPath:(NSIndexPath *)indexPath&#123; objc_setAssociatedObject(self, @selector(indexPath), indexPath, OBJC_ASSOCIATION_RETAIN_NONATOMIC);&#125;- (NSIndexPath *)indexPath&#123; return objc_getAssociatedObject(self, @selector(indexPath));&#125; swift12345678910111213141516171819extension UIResponder&#123; private struct AssociatedKey &#123; static var AssociatedName = \"AssociatedName\" &#125; public var indexPath: NSIndexPath?&#123; get&#123; return objc_getAssociatedObject(self, &amp;AssociatedKey.AssociatedName) as? NSIndexPath &#125; set&#123; if let newValue = newValue &#123; objc_setAssociatedObject(self, &amp;AssociatedKey.AssociatedName, newValue as NSIndexPath , .OBJC_ASSOCIATION_RETAIN_NONATOMIC) &#125; &#125; &#125;&#125; UIRefreshControl123456789let refresh = UIRefreshControl.init() refresh.tintColor = UIColor.red refresh.attributedTitle = NSAttributedString.init(string: \"æ­£åœ¨åŠ è½½\") refresh.addTarget(self, action: #selector(ViewController.refreshTabeleView(sender:)), for: UIControlEvents.valueChanged) tableView.refreshControl = refresh tableView.addSubview(refresh) tableView.reloadData() å°†HTMLå­—ç¬¦ä¸²è½¬åŒ–ä¸ºNSAttributedStringå¯Œæ–‡æœ¬å­—ç¬¦ä¸²123456789- (NSAttributedString *)attributedStringWithHTMLString:(NSString *)htmlString&#123; NSDictionary *options = @&#123; NSDocumentTypeDocumentAttribute : NSHTMLTextDocumentType, NSCharacterEncodingDocumentAttribute :@(NSUTF8StringEncoding) &#125;; NSData *data = [htmlString dataUsingEncoding:NSUTF8StringEncoding]; return [[NSAttributedString alloc] initWithData:data options:options documentAttributes:nil error:nil];&#125; CABasicAnimationï¼ˆCAKeyframeAnimationï¼‰key path å–å€¼keyPathå¯ä»¥ä½¿ç”¨çš„key123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051- define angle2Radian(angle) ((angle)/180.0*M_PI)transform.rotation.x å›´ç»•xè½´ç¿»è½¬ å‚æ•°ï¼šè§’åº¦ angle2Radian(4)transform.rotation.y å›´ç»•yè½´ç¿»è½¬ å‚æ•°ï¼šåŒä¸Štransform.rotation.z å›´ç»•zè½´ç¿»è½¬ å‚æ•°ï¼šåŒä¸Štransform.rotation é»˜è®¤å›´ç»•zè½´transform.scale.x xæ–¹å‘ç¼©æ”¾ å‚æ•°ï¼šç¼©æ”¾æ¯”ä¾‹ 1.5transform.scale.y yæ–¹å‘ç¼©æ”¾ å‚æ•°ï¼šåŒä¸Štransform.scale.z zæ–¹å‘ç¼©æ”¾ å‚æ•°ï¼šåŒä¸Štransform.scale æ‰€æœ‰æ–¹å‘ç¼©æ”¾ å‚æ•°ï¼šåŒä¸Štransform.translation.x xæ–¹å‘ç§»åŠ¨ å‚æ•°ï¼šxè½´ä¸Šçš„åæ ‡ 100transform.translation.y xæ–¹å‘ç§»åŠ¨ å‚æ•°ï¼šyè½´ä¸Šçš„åæ ‡transform.translation.z xæ–¹å‘ç§»åŠ¨ å‚æ•°ï¼šzè½´ä¸Šçš„åæ ‡transform.translation ç§»åŠ¨ å‚æ•°ï¼šç§»åŠ¨åˆ°çš„ç‚¹ ï¼ˆ100ï¼Œ100ï¼‰opacity é€æ˜åº¦ å‚æ•°ï¼šé€æ˜åº¦ 0.5backgroundColor èƒŒæ™¯é¢œè‰² å‚æ•°ï¼šé¢œè‰² (id)[[UIColor redColor] CGColor]cornerRadius åœ†è§’ å‚æ•°ï¼šåœ†è§’åŠå¾„ 5borderWidth è¾¹æ¡†å®½åº¦ å‚æ•°ï¼šè¾¹æ¡†å®½åº¦ 5bounds å¤§å° å‚æ•°ï¼šCGRectcontents å†…å®¹ å‚æ•°ï¼šCGImagecontentsRect å¯è§†å†…å®¹ å‚æ•°ï¼šCGRect å€¼æ˜¯0ï½1ä¹‹é—´çš„å°æ•°hidden æ˜¯å¦éšè—positionshadowColorshadowOffsetshadowOpacityshadowRadius éšè—å¯¼èˆªæ¡å’ŒtabBarçš„ç›´çº¿123UINavigationBar *bar = [UINavigationBar appearance];bar.shadowImage = [UIImage new];[bar setBackgroundImage:[UIImage new] forBarMetrics:UIBarMetricsDefault]; 123UITabBar *tabBar = [UITabBar appearance];tabBar.shadowImage = [UIImage new];tabBar.backgroundImage = [UIImage new]; å…¨å±æ‰‹åŠ¿è¿”å›123UIPanGestureRecognizer *pan = [[UIPanGestureRecognizer alloc] initWithTarget:self.interactivePopGestureRecognizer.delegate action:@selector(handleNavigationTransition:)];pan.delegate = self;[self.view addGestureRecognizer:pan]; 1234- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch&#123; return self.childViewControllers.count &gt; 1;&#125; UITextViewçš„placeholder123456789101112131415161718192021- (void)textViewDidBeginEditing:(UITextView *)textView &#123; [self resetTextViewPlaceholderWithText:textView];&#125;- (void)textViewDidEndEditing:(UITextView *)textView &#123; [self resetTextViewPlaceholderWithText:textView];&#125;- (void)resetTextViewPlaceholderWithText:(UITextView *)textView&#123; if ([textView.text isEqualToString:@\"è¦æ˜¾ç¤ºçš„placeholder\"]) &#123; textView.text = @\"\"; textView.textColor = [UIColor blackColor]; return; &#125; if (textView.text.length &lt; 1) &#123; textView.text = @\"è¦æ˜¾ç¤ºçš„placeholder\"; textView.textColor = [UIColor colorWithRed:0.87 green:0.87 blue:0.87 alpha:1.00]; return; &#125;&#125; è®©åº”ç”¨æ”¯æŒæ‘‡ä¸€æ‘‡ å¼€å¯æ‘‡ä¸€æ‘‡æƒé™ 1[UIApplication sharedApplication].applicationSupportsShakeToEdit = YES; è®©view/viewcontrolleræˆä¸ºç¬¬ä¸€å“åº”è€… 1234#pragma mark - UIResponder- (BOOL)canBecomeFirstResponder &#123; return YES;&#125; å®ç°æ–¹å‘ 123456789101112131415161718192021#pragma mark - æ‘‡åŠ¨/** * æ‘‡åŠ¨å¼€å§‹ */- (void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event &#123; if (motion == UIEventSubtypeMotionShake) &#123; // do some thing &#125;&#125;/** * æ‘‡åŠ¨ç»“æŸ */- (void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event &#123;&#125;/** * æ‘‡åŠ¨å–æ¶ˆ */- (void)motionCancelled:(UIEventSubtype)motion withEvent:(UIEvent *)event &#123;&#125; HeaderViewéštableviewä¸€èµ·æ»‘åŠ¨123456789101112- (void)scrollViewDidScroll:(UIScrollView *)scrollView&#123; if (scrollView == self.tableView) &#123; CGFloat headerHeight = DIF_SCREEN_HEIGHT / 3; if (scrollView.contentOffset.y &lt;= headerHeight &amp;&amp; scrollView.contentOffset.y &gt;= 0) &#123; scrollView.contentInset = UIEdgeInsetsMake(-scrollView.contentOffset.y, 0, 0, 0); &#125;else if (scrollView.contentOffset.y &gt;= headerHeight)&#123; scrollView.contentInset = UIEdgeInsetsMake(-headerHeight, 0, 0, 0); &#125; &#125;&#125;","categories":[{"name":"Objective-C","slug":"Objective-C","permalink":"http://yoursite.com/categories/Objective-C/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"load VS initialize","slug":"load VS initialize","date":"2016-10-09T12:35:30.000Z","updated":"2018-03-19T09:49:55.771Z","comments":true,"path":"2016/10/09/load VS initialize/","link":"","permalink":"http://yoursite.com/2016/10/09/load VS initialize/","excerpt":"","text":"å…±åŒç‚¹æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡(ç›¸å¯¹äºruntimeè€Œè¨€) åŒºåˆ«loadæ–¹æ³•å£°æ˜ä¸€ä¸ªSuperClassç±»ç»§æ‰¿ä¸NSObject 1234@implementation SuperClass+ (void) load &#123; NSLog(@\"åŠ è½½loadæ–¹æ³•\"); &#125; 123456int main(int argc, char * argv[]) &#123; @autoreleasepool &#123; NSLog(@\"main\"); return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class])); &#125;&#125; æ§åˆ¶å°æ‰“å°è¾“å‡º load main å¾—å‡ºç»“è®º:loadæ–¹æ³•åœ¨ç¨‹åºå¯åŠ¨å‰å°±ä¼šè°ƒç”¨ã€‚åœ¨mainå‡½æ•°ä¹‹å‰è°ƒç”¨ã€‚ initializeæ–¹æ³•æ‰§è¡Œä»¥ä¸‹ä»£ç  1234567+ (void) initialize &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;+ (void) load &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125; æ§åˆ¶å°æ‰“å°è¾“å‡º 12SuperClass +[SuperClass initialize]SuperClass +[SuperClass load] ä¸ºä»€ä¹ˆinitializeæ–¹æ³•ä¼šå†loadæ–¹æ³•å‰è°ƒç”¨å‘¢ï¼Ÿé€šè¿‡Appleçš„æ–‡æ¡£ 1The runtime sends initialize to each class in a program exactly one time just before the class, or any class that inherits from it, is sent its first message from within the program. (Thus the method may never be invoked if the class is not used.) The runtime sends the initialize message to classes in a thread-safe manner. Superclasses receive this message before their subclasses. å¾—çŸ¥: initializeæ–¹æ³•åœ¨ç±»çš„ç¬¬ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨å‰è°ƒç”¨ã€‚å³å…ˆæ‰§è¡Œloadæ–¹æ³•ä¸­çš„[self class] å°±ä¼šè°ƒç”¨initializeæ–¹æ³•ã€‚ å­ç±»ä¼šè°ƒç”¨çˆ¶ç±»çš„initialize1234567891011121314151617181920212223@interface ChildClass : SuperClass@end@implementation SuperClass+ (void) initialize &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;@end@implementation ChildClass+ (void)load&#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__); &#125;@end è¿˜æ˜¯å¯¼å…¥å¤´æ–‡ä»¶è€Œä¸å»ä½¿ç”¨å®ƒæ§åˆ¶å°æ‰“å°è¾“å‡º 123SuperClass +[SuperClass initialize]ChildClass +[ChildClass initialize]ChildClass +[ChildClass load] ç±»åˆ«(Category)ä¸­çš„+(void)loadçš„+(void)initialize1234567891011121314151617181920212223242526272829303132333435363738394041/******* Interface *******/@interface MainClass : NSObject@end/******* Category Implementation *******/@implementation MainClass(Category)+ (void) load &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;+ (void) initialize &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;@end@implementation MainClass(OtherCategory)+ (void) load &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;+ (void) initialize &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;@end/******* Implementation *******/@implementation MainClass+ (void) load &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;+ (void) initialize &#123; NSLog(@\"%@ %s\", [self class], __FUNCTION__);&#125;@end import ä¹‹å MainClass +[MainClass(OtherCategory) initialize]MainClass +[MainClass load]MainClass +[MainClass(Category) load]MainClass +[MainClass(OtherCategory) load] å…ˆæ‰§è¡Œç±»è‡ªèº«çš„å®ç°ï¼Œå†æ‰§è¡Œç±»åˆ«(Category)ä¸­çš„å®ç° ä¸éœ€è¦è°ƒç”¨[super load] å’Œ [super initialize]123456789+ (void)initialize &#123; //do initialization thing [super initialize];&#125;+ (void) load &#123; //do some loading things [super load];&#125; è¿™æ ·å†™æ˜¯å¤šä½™çš„ å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„åœ¨Objective-Cä¸­ï¼Œè¿è¡Œæ—¶ä¼šè‡ªåŠ¨è°ƒç”¨æ¯ä¸ªç±»çš„ä¸¤ä¸ªæ–¹æ³•ã€‚+loadä¼šåœ¨ç±»åˆå§‹åŠ è½½æ—¶è°ƒç”¨ï¼Œ+initializeä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ç±»çš„ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•ä¹‹å‰è¢«è°ƒç”¨ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¯é€‰çš„ï¼Œä¸”åªæœ‰åœ¨å®ç°äº†å®ƒä»¬æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚ç”±äºmethod swizzlingä¼šå½±å“åˆ°ç±»çš„å…¨å±€çŠ¶æ€ï¼Œå› æ­¤è¦å°½é‡é¿å…åœ¨å¹¶å‘å¤„ç†ä¸­å‡ºç°ç«äº‰çš„æƒ…å†µã€‚+loadèƒ½ä¿è¯åœ¨ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­è¢«åŠ è½½ï¼Œå¹¶ä¿è¯è¿™ç§æ”¹å˜åº”ç”¨çº§åˆ«çš„è¡Œä¸ºçš„ä¸€è‡´æ€§ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ+initializeåœ¨å…¶æ‰§è¡Œæ—¶ä¸æä¾›è¿™ç§ä¿è¯â€“äº‹å®ä¸Šï¼Œå¦‚æœåœ¨åº”ç”¨ä¸­æ²¡ä¸ºç»™è¿™ä¸ªç±»å‘é€æ¶ˆæ¯ï¼Œåˆ™å®ƒå¯èƒ½æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ å‚è€ƒé“¾æ¥:Objective Cç±»æ–¹æ³•loadå’Œinitializeçš„åŒºåˆ«","categories":[{"name":"Objective-C","slug":"Objective-C","permalink":"http://yoursite.com/categories/Objective-C/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"3D - Touchï¼ˆäºŒï¼‰ä¹‹Peek & Pop","slug":"3D - Touchä¹‹Peek & Pop","date":"2016-09-24T02:21:50.000Z","updated":"2017-02-13T07:22:51.000Z","comments":true,"path":"2016/09/24/3D - Touchä¹‹Peek & Pop/","link":"","permalink":"http://yoursite.com/2016/09/24/3D - Touchä¹‹Peek & Pop/","excerpt":"","text":"å‰è¨€åœ¨ä»‹ç»äº†å‰é¢çš„æ¡Œé¢çš„3D-Touch,è¿™ç¯‡æ–‡ç« æ¥ä»‹ç»åº”ç”¨ä¸­ä½¿ç”¨peek &amp; popã€‚ æ¯”å¦‚QQ å¾®ä¿¡ä¸­æ¶ˆæ¯ç•Œé¢é‡å‹cellå°±ä¼šå‡ºç°peek &amp; popã€‚æ¥ä¸‹æ¥å®ç°è¿™ä¸€æ•ˆæœã€‚ å®ç°åˆ›å»ºè§†å›¾(sourceView)é¦–å…ˆç”¨tableviewæ¥åšä¾‹å­ã€‚ç”¨storyboardåˆ›å»ºè¡¨,åœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚ 1var titleArray = [\"3D-Touch Objective-C\",\"3D-Touch Swift\",\"å‰è¨€å¿«æŠ¥:Swiftç»ˆå°†è¶…è¶ŠOC,è¿›è€Œå–ä»£OC\",\"Github9æœˆç¼–ç¨‹è¯­è¨€ JS è·ƒå±…ç¬¬ä¸€ä½\"] åˆ›å»ºä¸€ä¸ªæ•°ç»„æ¥åštableviewçš„æ•°æ®æºã€‚ å®ç°ä»£ç†åœ¨å®ç°è¿™ä¸€æ•ˆæœä¹‹å‰,éœ€è¦ä½¿å½“å‰çš„æ§åˆ¶å™¨å®ç°UIViewControllerPreviewingDelegateä»£ç†å¹¶ä¸”è¦åˆ¤æ–­å½“å‰è®¾å¤‡æ˜¯å¦æ”¯æŒPeek &amp; pop: 123if traitCollection.forceTouchCapability == .available&#123; registerForPreviewing(with: self, sourceView: tableView) &#125; ä»£ç†ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•: 1public func previewingContext(_ previewingContext: UIViewControllerPreviewing, viewControllerForLocation location: CGPoint) -&gt; UIViewController? ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥è·å–åˆ°è¦æ˜¾ç¤ºçš„æ˜¯å“ªä¸ªç›®æ ‡viewï¼ˆsourceViewï¼‰ä»¥åŠæ‰‹åŠ¿,å…¶ä¸­æœ‰ä¸ªå±æ€§ï¼ˆsourceRectï¼‰è¿˜å¯ä»¥æ§åˆ¶é‚£å—åŒºåŸŸå±•ç¤ºå‡ºpeekçš„æ•ˆæœ ç¬¬äºŒä¸ªå‚æ•°location é¡¾åæ€ä¹‰å°±æ˜¯è¦æ§åˆ¶èƒ½äº§ç”Ÿé‡å‹çš„åŒºåŸŸã€‚(ä¸ç¬¬ä¸€ä¸ªå‚æ•°çš„sourceRectä¸åŒ,sourceRectåªæ˜¯å“ªç‰‡åŒºåŸŸè¦å±•ç¤ºpeekæ•ˆæœ,å°±æ˜¯åœ¨å±å¹•ä¸­è§†å›¾å‡¸èµ·çš„é‚£ä¸€éƒ¨åˆ†ã€‚å¦‚æœä¸è®¾ç½®é»˜è®¤å°±æ˜¯æ•´ä¸ªsourceView,è€Œè¿™ä¸ªå‚æ•°åˆ™æ˜¯æ§åˆ¶å“ªäº›åŒºåŸŸèƒ½ä½¿ç”¨peekæ•ˆæœ)ã€‚æ³¨æ„ â€œèƒ½â€ å’Œ â€œè¦â€ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯è¦æ˜¾ç¤ºçš„é‚£ä¸ªæ§åˆ¶å™¨,å°±æ˜¯popé¢„è§ˆçš„é‚£ä¸ªæ§åˆ¶å™¨ã€‚ 1public func previewingContext(_ previewingContext: UIViewControllerPreviewing, commit viewControllerToCommit: UIViewController) è¿™ä¸ªæ–¹æ³•å°±æ˜¯ç”¨æ¥åšè·³è½¬çš„ã€‚ å¼€å§‹å®ç°ä»£ç†æ–¹æ³•æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªæ§åˆ¶å™¨æ¥åšpopæ•ˆæœ,è¿”å›å‡ºè¿™ä¸ªæ§åˆ¶å™¨ã€‚ 12345678910func previewingContext(_ previewingContext: UIViewControllerPreviewing, viewControllerForLocation location: CGPoint) -&gt; UIViewController? &#123; guard let indexPath = tableView.indexPathForRow(at:location) , let cell = tableView.cellForRow(at: indexPath) else &#123; return nil &#125; let detailVC = UIStoryboard.init(name: \"Main\", bundle: nil).instantiateViewController(withIdentifier: \"detail\") as! DetailViewController previewingContext.sourceRect = cell.frame detailVC.text = (cell.textLabel?.text)! return detailVC &#125; 1234 func previewingContext(_ previewingContext: UIViewControllerPreviewing, commit viewControllerToCommit: UIViewController) &#123;// self.show(viewControllerToCommit, sender: self) self.navigationController?.pushViewController(viewControllerToCommit, animated: true) &#125; show å’Œ pushéƒ½èƒ½å±•ç¤ºå‡ºç›¸åŒçš„æ•ˆæœ åœ¨æ˜¾ç¤ºçš„æ§åˆ¶å™¨ä¸­è®¾ç½®ä»£ç åœ¨detailviewcontrollerä¸­éœ€è¦è¿”å›å‡ºpopå‘ä¸Šæ‹‰çš„é€‰é¡¹ã€‚ï¼ˆä¹Ÿå¯ä»¥ä¸å®ç°ï¼‰å¦å¤–è¦ä¸ºäº†è¦å±•ç¤ºå‡ºæ•°æ®,æˆ‘åœ¨è¯¥è§†å›¾æ§åˆ¶å™¨ä¸­æ·»åŠ äº†ä¸€ä¸ªtextviewæ¥å±•ç¤ºæ•°æ®ã€‚ 123self.title = \"è¯¦æƒ…\"self.automaticallyAdjustsScrollViewInsets = falseself.textView.text = text 123456789101112131415161718192021override var previewActionItems: [UIPreviewActionItem]&#123; let action1 = UIPreviewAction.init(title: \"å–œæ¬¢\", style: .default) &#123; (UIPreviewAction, UIViewController) in &#125; let action2 = UIPreviewAction.init(title: \"æ”¶è—\", style: .default) &#123; (UIPreviewAction, UIViewController) in &#125; let cancle = UIPreviewAction.init(title: \"å–æ¶ˆ\", style: .default) &#123; (UIPreviewAction, UIViewController) in &#125; let delete = UIPreviewAction.init(title: \"åˆ é™¤\", style: .destructive) &#123; (UIPreviewAction, UIViewController) in &#125; let actionGroup = UIPreviewActionGroup.init(title: \"åˆ é™¤\", style: .destructive, actions: [cancle,delete]) return [action1, action2 ,actionGroup] &#125; è¿”å›çš„æ•°ç»„ä¸­å­˜çš„æ˜¯UIPreviewActionã€‚è¿™ä¸ªæ•°ç»„å¯ä»¥æ˜¯ä¸ªäºŒç»´æ•°ç»„,æ‰€ä»¥å¯ä»¥å±•ç¤ºå‡ºå¾ˆå¤šé€‰é¡¹ã€‚ä¾‹å­ä¸­è¿”å›çš„å°±æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚ æœ€ååˆ°æ­¤æ•´ä¸ªæ•ˆæœçš„ä»£ç éƒ½è®¾ç½®å®Œäº†ã€‚æ¥ä¸‹æ¥è¿è¡Œç¨‹åº,çœ‹çœ‹æˆ‘ä»¬çš„æˆæœå§:","categories":[{"name":"Swift","slug":"Swift","permalink":"http://yoursite.com/categories/Swift/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"3D - Touch(ä¸€) æ¡Œé¢","slug":"3D-Touch æ¡Œé¢","date":"2016-09-23T12:07:51.000Z","updated":"2017-09-05T06:46:36.000Z","comments":true,"path":"2016/09/23/3D-Touch æ¡Œé¢/","link":"","permalink":"http://yoursite.com/2016/09/23/3D-Touch æ¡Œé¢/","excerpt":"","text":"æ¡Œé¢3D - Touchå¿«æ·é™æ€æ“ä½œï¼ˆQuick actionsï¼‰éœ€è¦åœ¨ info.plistä¸­é…ç½® 123456789101112131415161718192021222324252627&lt;key&gt;UIApplicationShortcutItems&lt;/key&gt;&lt;array&gt; &lt;dict&gt; &lt;key&gt;UIApplicationShortcutItemIconType&lt;/key&gt; &lt;string&gt;UIApplicationShortcutIconTypeShare&lt;/string&gt; &lt;key&gt;UIApplicationShortcutItemTitle&lt;/key&gt; &lt;string&gt;å¼¹ä¸€å¼¹&lt;/string&gt; &lt;key&gt;UIApplicationShortcutItemType&lt;/key&gt; &lt;string&gt;com.yuwubao.search&lt;/string&gt; &lt;/dict&gt; &lt;dict&gt; &lt;key&gt;UIApplicationShortcutItemIconType&lt;/key&gt; &lt;string&gt;UIApplicationShortcutIconTypeShare&lt;/string&gt; &lt;key&gt;UIApplicationShortcutItemTitle&lt;/key&gt; &lt;string&gt;æ‘‡ä¸€æ‘‡&lt;/string&gt; &lt;key&gt;UIApplicationShortcutItemType&lt;/key&gt; &lt;string&gt;com.yuwubao.search&lt;/string&gt; &lt;/dict&gt; &lt;dict&gt; &lt;key&gt;UIApplicationShortcutItemIconType&lt;/key&gt; &lt;string&gt;UIApplicationShortcutIconTypeShare&lt;/string&gt; &lt;key&gt;UIApplicationShortcutItemTitle&lt;/key&gt; &lt;string&gt;æ‰«ä¸€æ‰«&lt;/string&gt; &lt;key&gt;UIApplicationShortcutItemType&lt;/key&gt; &lt;string&gt;com.yuwubao.search&lt;/string&gt; &lt;/dict&gt;&lt;/array&gt; å…³äºå‡ ä¸ªå¿…é¡»è¦å¡«å†™çš„é¡¹ï¼š UIApplicationShortcutItemTitle: è¡¨ç¤ºè¦æ˜¾ç¤ºçš„æ ‡é¢˜ã€‚å±•ç¤ºåœ¨ä½ çš„quick actionèœå•ä¸­çš„actionæ ‡é¢˜ã€‚å¦‚æœæ ‡é¢˜ä¸€è¡Œæ— æ³•æ˜¾ç¤ºå¹¶ä¸”ä½ æ²¡æœ‰æŒ‡å®šå­æ ‡é¢˜é‚£ä¹ˆå®ƒå°†æ˜¾ç¤ºä¸¤è¡Œã€‚å¯ä»¥ä½¿ç”¨æœ¬åœ°åŒ–(localised)ã€‚ UIApplicationShortcutItemType: ä½œä¸ºUIApplicationShortcutItemçš„ä¸€éƒ¨åˆ†å‘é€ç»™ä½ çš„åº”ç”¨ã€‚å¯ä»¥ä¾æ®ä¸åŒçš„shortcutç±»å‹ç”¨äºæ‰§è¡Œä½ çš„actionsã€‚å‘½åè§„åˆ™ä¸ºï¼š com.å…¬å¸å.appå.å›¾æ ‡ä½œç”¨å å…³äºé€‰å¡«çš„é¡¹ï¼š UIApplicationShortcutItemIconType: å®šä¹‰å†…ç½®å›¾æ ‡ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå¯é€‰ç±»å‹åˆ—è¡¨å¯ä»¥æŸ¥è¯¢è¿™é‡Œ UIApplicationShortcutItemSubtitle: ç”¨æˆ·å±•ç¤ºä½ çš„actionsçš„å­æ ‡é¢˜çš„å­—ç¬¦ä¸²ã€‚å®ƒå°†æ˜¾ç¤ºåœ¨ä½ çš„quick actionsæ ‡é¢˜çš„ä¸‹æ–¹ã€‚å¯ä»¥æœ¬åœ°åŒ–ã€‚ UIApplicationShortcutItemIconFileï¼šä¸€ä¸ªæŒ‡å®šAssets Catalogæˆ–è€…Bundleä¸­çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæŒ‡å®šäº†æ­¤é”®ï¼Œåˆ™ç³»ç»Ÿä¼šå¿½ç•¥UIApplicationShortcutItemIconType UIApplicationShortcutItemUserInfoï¼šä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«ä½ æƒ³è¦è§£æçš„å…¶ä»–ä¿¡æ¯ã€‚ ç¬¬äºŒæ­¥åœ¨å…¥å£ç±»æ–‡ä»¶ï¼ˆappDelegateï¼‰ä¸­ 12345678910111213func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&gt; Bool &#123; //æ£€æµ‹ç‰ˆæœ¬ if UIDevice.current.systemVersion &gt;= \"9.0\" &#123; let shortcutItem = launchOptions?[UIApplicationLaunchOptionsKey.shortcutItem] as? UIApplicationShortcutItem if let shortcutItem = shortcutItem&#123; self.quickActionWithShortcutItem(shortcutItem: shortcutItem) &#125; &#125; return true &#125; è¿˜è¦å®ç°å¦ä¸€ä¸ªæ–¹æ³• 12345//MARK: - 3D-Touch func application(_ application: UIApplication, performActionFor shortcutItem: UIApplicationShortcutItem, completionHandler: @escaping (Bool) -&gt; Void) &#123; self.quickActionWithShortcutItem(shortcutItem: shortcutItem) completionHandler(true) &#125; ç”±äºä»£ç çš„å†—ä½™ éœ€è¦å®šä¹‰ä¸€ä¸ªç§æœ‰çš„æ–¹æ³• å¯ä»¥æ ¹æ®localizedTitle æˆ–è€… type æ¥åŒºåˆ«ç‚¹å‡»çš„æ˜¯å“ªä¸ªã€‚ 1234567891011121314private func quickActionWithShortcutItem(shortcutItem: UIApplicationShortcutItem)&#123; let nav = self.window?.rootViewController as? UINavigationController if shortcutItem.localizedTitle == \"å¼¹ä¸€å¼¹\"&#123; &#125;else if shortcutItem.localizedTitle == \"æ‘‡ä¸€æ‘‡\"&#123; let detailVC = UIStoryboard.init(name: \"Main\", bundle: nil).instantiateViewController(withIdentifier: \"detail\") as! DetailViewController nav!.pushViewController(detailVC, animated: true) &#125;else&#123; nav!.pushViewController(ThirdViewController(), animated: true) &#125; &#125; åˆ°è¿™é‡Œå®Œå…¨è®¾ç½®å¥½äº†æ¡Œé¢å›¾æ ‡çš„3D - Touchã€‚ ç”±äºæœ€è¿‘ç³»ç»Ÿå‡çº§åˆ°äº†iOS10 æ¡Œé¢iconçš„3D - Touch æ–°å¢äº†widgetã€‚æ¥ä¸‹æ¥å°±æ¥æ—¶é€‚é…iOS10ã€‚ Extention(æ›´å¤šä¿¡æ¯ç§»æ­¥åˆ°è¿™é‡Œ)(å–µç¥åšå®¢) Extensionsä¸æ˜¯ç‹¬ç«‹çš„åº”ç”¨ç¨‹åºã€‚Extensionså¿…é¡»ä¾èµ–äºä¸€ä¸ªhost appï¼Œå«ä½œå®¿ä¸»APPï¼ŒåŒæ—¶ä»–ä»¬çš„ç”Ÿå‘½å‘¨æœŸç›¸äº’ç‹¬ç«‹ï¼Œå¹¶ä¸”å¯ä»¥äº’ç›¸è§¦å‘äº‹ä»¶ã€‚ä¸€ä¸ªå®¿ä¸»APPå¯ä»¥åŒ…å«å¤šä¸ªExtensionsã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯ Today Extentionã€‚åˆ›å»ºæ–¹æ³• File-&gt;New-&gt;Target å·¥ç¨‹ä¸­ä¼šå¤šå‡ºè¿™äº›æ–‡ä»¶ åœ¨MainInterface.storyboardä¸­æˆ‘ä»¬å¯ä»¥å®šåˆ¶UIã€‚ å½“æˆ‘ä»¬æƒ³çº¯ä»£ç æ„å»ºUIæ—¶,åœ¨ä¸Šå›¾æ˜¾ç¤ºçš„Info.plistä¸­NSExtensionéœ€è¦å°†NSExtensionMainStoryboardåˆ æ‰,è§£é™¤ä¸storyboardçš„å…³è” ä¾‹å­ä¸­ç”¨çš„storyboardæ„å»ºUIã€‚ å½“æˆ‘ä»¬éœ€è¦ä¸APPé€šä¿¡æ—¶ã€‚éœ€è¦ç”¨åˆ° URL Shchemesã€‚ é¦–å…ˆç»™labelæ·»åŠ æ‰‹åŠ¿12widgetLabel.addGestureRecognizer(UITapGestureRecognizer.init(target: self , action: #selector(TodayViewController.widgetLabelAction))) 123@objc private func widgetLabelAction() -&gt; Void &#123; extensionContext?.open(NSURL(string: &quot;simple://finished&quot;) as! URL, completionHandler: nil) &#125; è®¾ç½®URL Schemes è¿è¡Œç¨‹åº æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨widgetä¸­æ·»åŠ è‡ªå·±çš„APPæ˜¾ç¤ºä¿¡æ¯äº†","categories":[{"name":"Swift","slug":"Swift","permalink":"http://yoursite.com/categories/Swift/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"SwiftåŸºç¡€","slug":"SwiftåŸºç¡€","date":"2016-09-20T14:54:59.000Z","updated":"2017-02-13T07:17:40.000Z","comments":true,"path":"2016/09/20/SwiftåŸºç¡€/","link":"","permalink":"http://yoursite.com/2016/09/20/SwiftåŸºç¡€/","excerpt":"","text":"strideä¸å¾ªç¯ç»“æ„åŒºé—´è¿ç®—ç¬¦å¼€åŒºé—´ï¼š[a,b]é—­åŒºé—´ï¼š[a,b)ä¸¾ä¾‹ï¼š1.å¼€åŒºé—´ 123for index in 1..&lt;10&#123; index;&#125; indexçš„å€¼ä¸€æ¬¡ä¸º:0~9;å¯ä»¥ç”¨æ­¤æ–¹æ³•éå†æ•°ç»„ã€‚æ¯”å¦‚ï¼š 123456var scoreArr = [22,33,44,55,66,77,88,99];var count = scoreArr.count;for index in 0 ..&lt; count&#123; var s = scoreArr[index]; print(s);&#125; 2.é—­åŒºé—´ 123for index in 1...10&#123; index;&#125; indexçš„å€¼ä»¥æ­¤ä¸ºï¼š0~10 åœ¨swift3.0ä¸­strideè¯­æ³•å·²ç»æ”¹ä¸ºè¿™æ ·:stride(from: , to: , by: )å‡½æ•°å’Œstride(from: , through: , by: )å‡½æ•°stride æ–¹æ³•å®šä¹‰åœ¨ Strideable åè®®ä¸­,swift3.0åºŸå¼ƒäº†ä¼ ç»ŸCçš„forå¾ªç¯ä¹‹åï¼Œå®šä¹‰çš„å…¨æ–°æ–¹æ³•ã€‚stride(from: , to: , by: )ç›¸å½“äºå¼€åŒºé—´ï¼›stride(from: , through: , by: )ç›¸å½“äºé—­åŒºé—´ä¸ªäººç†è§£ï¼šè¡¨ç¤ºä»åˆå§‹æ•°å€¼åˆ°ç›®æ ‡æ•°å€¼,by:è¡¨ç¤ºè·¨è¶Šçš„è¿›åº¦ï¼ˆå¯åŠ å¯å‡ï¼‰ã€‚ä¸¾ä¾‹ï¼š 123for index in stride(from: 10, through: 0, by: -1)&#123; print(index);&#125; 123for index in stride(from: 10, to: 0, by: -1)&#123; print(index);&#125; indexçš„æ•°å€¼:index â€“10index â€“9index â€“8index â€“7index â€“6index â€“5index â€“4index â€“3index â€“2index â€“1 ç”¨strideæ–¹æ³•éå†scoreArræ•°ç»„1234for i in stride(from: 0, to: scoreArr.count, by: 1)&#123; var arr = scoreArr[i]; print(arr);&#125;","categories":[{"name":"Swift","slug":"Swift","permalink":"http://yoursite.com/categories/Swift/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"å¤šç§æ–¹æ³•ä½¿tableViewçš„Headerä¸‹æ‹‰æ”¾å¤§","slug":"å¤šç§æ–¹æ³•ä½¿tableViewçš„Headerä¸‹æ‹‰æ”¾å¤§","date":"2016-09-20T14:15:16.000Z","updated":"2017-02-13T07:15:30.000Z","comments":true,"path":"2016/09/20/å¤šç§æ–¹æ³•ä½¿tableViewçš„Headerä¸‹æ‹‰æ”¾å¤§/","link":"","permalink":"http://yoursite.com/2016/09/20/å¤šç§æ–¹æ³•ä½¿tableViewçš„Headerä¸‹æ‹‰æ”¾å¤§/","excerpt":"","text":"å‰è¨€çœ‹äº†å³¥å–åŒå­¦çš„è¿™ç¯‡æ–‡ç« ã€ä¸€è¡Œä»£ç å¿«é€Ÿé›†æˆtableViewå¤´éƒ¨ç¼©æ”¾è§†å›¾ã€‘ä¹‹å ã€‚æƒ³ç€è‡ªå·±ç”¨å…¶ä»–çš„æ–¹æ³•æ¥å®ç°è¿™ä¸€æ•ˆæœï¼Œäºæ˜¯ä¹æƒ³åˆ° 1CGAffineTransformMakeScale è¿™ä¸€æ–¹æ³•ã€‚ æ•ˆæœå›¾ å¼€å§‹å®ç°åœ¨è‡ªå·±å†™çš„è¿‡ç¨‹ä¸­å‘ç°äº†ä¸€äº›é—®é¢˜, ç›´æ¥æŠŠ 1self.tableView.tableHeaderView = self.imageView ä¹‹åå¹¶ä¸èƒ½è¾¾åˆ°æƒ³è¦çš„æ•ˆæœã€‚æ•´å¼ å›¾ç‰‡frameéƒ½éšç€tableviewçš„æ‹–åŠ¨è€Œæ”¹å˜ã€‚å¹¶ä¸æ˜¯åƒæ˜¯å›ºå®šåœ¨é‚£é‡Œã€‚tableviewçš„é¡¶éƒ¨ä¼šå‡ºç°å¤§éƒ¨åˆ†ç©ºç™½ã€‚ç„¶åæˆ‘ä»”ç»†çœ‹äº†ä¸€éæºç ã€‚å‘ç°åšæ³•æ˜¯ 1[self.tableView insertSubview:imageView atIndex:0]; æ¥ç€æŠŠä¸€ä¸ªé€æ˜viewå¡«å……åˆ°tableviewçš„header viewä¸­ã€‚ 123UIView *headerView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, 200)]; headerView.backgroundColor = [UIColor clearColor]; self.tableView.tableHeaderView = headerView; æ‰¾åˆ°è¿™ä¸€æŠ€å·§ä¹‹åã€‚è‡ªå·±å†™äº†ä¸€ä¸ªç¨å¾®ç®€å•çš„demoã€‚ 12345678UIImageView *imageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@\"header\"]];imageView.frame = CGRectMake(0, 0, self.view.frame.size.width, imageViewH);[self.tableView insertSubview:imageView atIndex:0];self.imageView = imageView;UIView *headerView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, imageViewH)];headerView.backgroundColor = [UIColor clearColor];self.tableView.tableHeaderView = headerView; åœ¨ 1- (void)scrollViewDidScroll:(UIScrollView *)scrollView æ–¹æ³•ä¸­è¿™ä¹ˆå†™: 123456CGFloat offsetY = scrollView.contentOffset.y; if (offsetY &lt; 0) &#123; self.imageView.frame = CGRectMake(offsetY, offsetY, scrollView.bounds.size.width - offsetY * 2, imageViewH - offsetY); &#125; else &#123; self.imageView.frame = CGRectMake(0, 0, scrollView.bounds.size.width, imageViewH); &#125; åŸç†ä¸€æ¨¡ä¸€æ ·,æ‹¿åˆ°scrollviewçš„åç§»é‡è®¡ç®—ä¸‹æ‹‰imageviewçš„frame,ä½¿å…¶imageviewçš„å®½é«˜å¢å¤§ã€‚ä¸Šæ‹‰çš„æ—¶å€™æ¢å¤åŸæ¥çš„frameã€‚ å¦ä¸€ç§æ–¹æ³•è¿˜æ˜¯åœ¨ 1- (void)scrollViewDidScroll:(UIScrollView *)scrollView æ–¹æ³•ä¸­æ‹¿åˆ°scrollviewçš„åç§»é‡è®¡ç®—ç¼©æ”¾ç³»æ•° 12345678910111213141516CGFloat offsetY = scrollView.contentOffset.y + scrollView.contentInset.top;CGFloat scale = 1.0;if (offsetY &lt; 0) &#123; //å‘ä¸‹æ‹‰ scale = MIN(2.5, 1 - offsetY / imageViewH); self.imageView.transform = CGAffineTransformMakeScale(scale, scale); CGRect frame = self.imageView.frame; frame.origin.y = offsetY; self.imageView.frame = frame;&#125;else if(offsetY &gt; 0)&#123; //å‘ä¸Šæ‹‰ CGRect frame = self.imageView.frame; frame.origin.y = -offsetY/imageViewH; self.imageView.frame = frame;&#125; å†å‘ä¸Šæ‹‰çš„è¿‡ç¨‹ä¸­è¦ä¿è¯imageviewä¸ä¼šè¿›è¡Œç¼©æ”¾ï¼Œåªæ˜¯æ”¹å˜ä¸‹imageviewçš„yè½´çš„å€¼ã€‚ æœ€åæ„Ÿè°¢å³¥å–åŒå­¦æä¾›çš„æ€è·¯ã€‚demoåœ°å€:æˆ³æˆ‘","categories":[{"name":"Objective-C","slug":"Objective-C","permalink":"http://yoursite.com/categories/Objective-C/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]}]}